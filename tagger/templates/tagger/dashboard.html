{% extends "tagger/base.html" %}
{% block script %}
<!-- 
<link rel="stylesheet" href="../../static/css/base/bootstrap.min.css">
<link rel="stylesheet" href="../../static/css/table/dataTables.bootstrap4.min.css">

<script src="../../static/js/base/jquery.min.js" type="text/javascript"></script> 
<script src="../../static/js/table/jquery.dataTables.min.js" type="text/javascript"></script>
<script src="../../static/js/table/dataTables.bootstrap4.min.js" type="text/javascript"></script> -->

<!-- <link rel='stylesheet' href="https://cdn.datatables.net/1.10.19/css/jquery.dataTables.min.css">
<script src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js" type="text/javascript"></script> -->
<script src="../../static/js/table/jquery.dataTables.min.js" type="text/javascript"></script>
<script src="../../static/js/table/dataTables.bootstrap4.min.js" type="text/javascript"></script>
{% endblock %}

{% block body_block %}
<script>
    $(document).ready(function(){
        var conv = getIntitalData();
        console.log(conv);
        var conv_list = [];
        for (c in conv){
            conv_list.push([conv[c]['name'], conv[c]['sentences'][1]['text']]);
        }
        
        console.log('conv list = ' + conv_list);
    
        $('#conv_list').DataTable( {
            "ajax": {
                "dataSrc": conv_list,
            },
            "columns": [
                { "data": "name" },
                { "data": "sentence" },
            ]
        });
    });

    function getIntitalData(){
        var value= $.ajax({ 
            url: '../../static/data/conv_1.json', 
            async: false
        }).responseText;
        return JSON.parse(value);
    }
</script>

<table id="conv_list" class="table table-striped table-bordered" style="width:100%">
    <thead>
        <tr>
            <th>Name</th>
            <th>Sentence</th>
        </tr>
    </thead>
    <tfoot>
        <tr>
            <th>Name</th>
            <th>Sentence</th>
        </tr>
    </tfoot>
</table>

{% endblock %}